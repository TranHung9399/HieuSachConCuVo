@model List<banSach.Models.ChiTietGioHang>
@{
	ViewBag.Title = "Thanh toán không cần đăng nhập";
}
<h2>Thông tin đặt hàng (khách)</h2>
<form method="post" action="@Url.Action("DatHang", "GioHang")">
	<div>
		<label>Họ tên</label>
		<input name="HoTen" required class="form-control" />
	</div>
	<div>
		<label>Số điện thoại</label>
		<input name="SoDienThoai" required class="form-control" />
	</div>
	<div>
		<label>Email</label>
		<input name="Email" type="email" required class="form-control" />
	</div>
	<div>
		<label>Địa chỉ</label>
		<input name="DiaChi" required class="form-control" />
	</div>
	<h3>Đơn hàng</h3>
	<table class="table table-bordered">
		<thead>
		<tr>
			<th>Sách</th>
			<th>Đơn giá</th>
			<th>Số lượng</th>
			<th>Thành tiền</th>
		</tr>
		</thead>
		<tbody>
		@foreach(var item in Model)
		{
			<tr>
				<td>@item.Sach.TenSach</td>
				<td>@String.Format("{0:N0}", item.DonGia ?? 0) VNĐ</td>
				<td>@item.SoLuong</td>
				<td>@String.Format("{0:N0}", (item.SoLuong ?? 0) * (item.DonGia ?? 0)) VNĐ</td>
			</tr>
		}
		</tbody>
		<tfoot>
		<tr>
			<td colspan="3" class="text-right"><strong>Tổng cộng:</strong></td>
			<td><strong>
				@String.Format("{0:N0}", Model.Sum(x => (x.SoLuong ?? 0) * (x.DonGia ?? 0))) VNĐ
			</strong></td>
		</tr>
		</tfoot>
	</table>
	<button type="submit" class="btn btn-primary">Đặt hàng</button>
</form>